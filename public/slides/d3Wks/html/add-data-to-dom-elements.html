<style>

    #add-data-to-dom-elements .code {
        font-size: 1.5em;
    }

    #add-data-to-dom-elements svg {
        border: solid;
        margin: 1em;
    }

    #add-data-to-dom-elements circle {
        fill: white;
        stroke: black;
        stroke-width: 2px;
        opacity: .5;
    }

</style>

<div class="row">
    <div class="col s6">
    </div>
    <div class="col s6">
    </div>
</div>

<div class="screencontainer">
    <div class="screenposition screenright screenbottom">
        <svg id="svg01" height="300" width="300">
            <circle cx="150" cy="150" r="10"></circle>
            <circle cx="150" cy="150" r="10"></circle>
            <circle cx="150" cy="150" r="10"></circle>
        </svg>
    </div>
</div>

<div class="code1 code"></div>
<div class="code2 code"></div>
<a class="runcode btn-floating btn waves-effect waves-light blue stdmargin"><i class="material-icons">play_arrow</i></a>

<script>

    /* global slidAR */

    (function () {
        const ID = "add-data-to-dom-elements";

        const codeSelector1 = "#" + ID + " .code1";
        const codeSelector2 = "#" + ID + " .code2";

        gapslides.showCode2.bash(codeSelector1,
            "<svg id=\"svg01\" height=\"300\" width=\"300\">\n" +
            "   <circle cx=\"150\" cy=\"150\" r=\"10\"></circle>\n" +
            "   <circle cx=\"150\" cy=\"150\" r=\"10\"></circle>\n" +
            "   <circle cx=\"150\" cy=\"150\" r=\"10\"></circle>\n" +
            "</svg>", {noBackgroundColor: true});

        gapslides.showCode2.js(codeSelector2,
            "d3.selectAll(\"circle\")\n" +
            "   .data(\n" +
            "       [{name:\"a\", x:50, y:50, r:20, color:\"blue\"},\n" +
            "       {name:\"b\", x:50, y:250, r:30, color:\"orange\"},\n" +
            "       {name:\"c\", x:250, y:50, r:40, color:\"red\"}]\n" +
            "   );\n" +
            "\n" +
            "const domNodes = document.querySelectorAll(\"circle\");\n" +
            "window.alert(JSON.stringify(domNodes[0].__data__) + \"\\n\" +\n" +
            "             JSON.stringify(domNodes[1].__data__) + \"\\n\" +\n" +
            "             JSON.stringify(domNodes[2].__data__));", {noBackgroundColor: true});

        const steps = [];
        steps.push(gapslides.showCode2.highlightLinesStep(codeSelector1, "1-5"));
        steps.push(gapslides.showCode2.highlightLinesStep(codeSelector1, "1,5"));
        steps.push(gapslides.showCode2.highlightLinesStep(codeSelector1, "2-4"));
        steps.push(gapslides.showCode2.highlightLinesStep(codeSelector1, "2"));
        steps.push(gapslides.showCode2.highlightLinesStep(codeSelector1, "3"));
        steps.push(gapslides.showCode2.highlightLinesStep(codeSelector1, "4"));
        steps.push(gapslides.showCode2.highlightLinesStep(codeSelector1, ""));

        steps.push(gapslides.showCode2.highlightLinesStep(codeSelector2, "1-6"));
        steps.push(gapslides.showCode2.highlightLinesStep(codeSelector2, "1"));
        steps.push(gapslides.showCode2.highlightLinesStep(codeSelector2, "2"));
        steps.push(gapslides.showCode2.highlightLinesStep(codeSelector2, "3-5"));

        steps.push(gapslides.showCode2.highlightLinesStep(codeSelector2, "8-11"));
        steps.push(gapslides.showCode2.highlightLinesStep(codeSelector2, "8"));
        steps.push(gapslides.showCode2.highlightLinesStep(codeSelector2, "9-11"));

        gapslides.steps2.setSteps(ID, steps);

        gapslides.click.setClickHandler(`#${ID} .runcode`, () => {
            d3.selectAll("circle")
                .data([
                    {name:"a", x:50, y:50, r:20, color:"blue"},
                    {name:"b", x:250, y:50, r:30, color:"orange"},
                    {name:"c", x:50, y:250, r:40, color:"red"}
                ]);

            const domNodes = document.querySelectorAll(`#${ID} circle`);
            window.alert(JSON.stringify(domNodes[0].__data__) + "\n" +
                JSON.stringify(domNodes[1].__data__) + "\n" +
                JSON.stringify(domNodes[2].__data__));
        });

        slidAR.initPhase.markSlideAsReady(ID);
    })()
</script>